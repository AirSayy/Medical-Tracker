import{K as e,N as d,Q as w,U as P}from"./@mui-e47bf2a6.js";import{r as N,R as k}from"./react-0bfda011.js";import{c as T}from"./react-dom-d1865be7.js";import{u as B,a as D,P as O}from"./react-redux-9ba3ad93.js";import{k as R,Q as I}from"./react-toastify-6374d56d.js";import{c as v,a as M,b as j}from"./@reduxjs-d9f0fc98.js";import{a as E}from"./axios-aba6f0e0.js";import{A as p,S as $,V as Y,E as q,I as U,W,M as K,D as Q,T as _,a as z,b as J,c as G,C as X,d as Z,e as ee,f as te}from"./@devexpress-e4887146.js";import"./hoist-non-react-statics-b24a8e72.js";import"./react-is-1aacdabe.js";import{u as F}from"./react-hook-form-699f1e2e.js";import{a as re,b as C}from"./react-router-91b8072d.js";import{B as oe}from"./react-router-dom-d1ba0991.js";import"./@babel-83a55e84.js";import"./clsx-1229b3e0.js";import"./react-transition-group-98db7eef.js";import"./dom-helpers-9a525042.js";import"./@emotion-84c0887f.js";import"./stylis-581c9ed0.js";import"./moment-fbc5633a.js";import"./@popperjs-0e7ee0a2.js";import"./rifm-160d9bd4.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-da90c88d.js";import"./immer-b106be54.js";import"./redux-6f3d0e5c.js";import"./redux-thunk-ef899f4c.js";import"./prop-types-4d501b15.js";import"./rrule-acc39758.js";import"./tslib-694e2945.js";import"./@remix-run-122d521f.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const ne=[{id:0,title:"",startDate:"",endDate:"",locationField:"",covidField:"",prepField:"",allDay:!1}],A="http://localhost:4000/",ae={loading:!0,rawData:ne,currentDate:new Date().toJSON().slice(0,10),currentViewName:"work-week",addedAppointment:{},appointmentChanges:{},editingAppointment:void 0,register:"",hideRegister:""},x=v("signup/data",async(t,r)=>{console.log(t);try{return(await E.post("http://localhost:5000/signup",{data:{user:t}})).data}catch(i){return i.message}}),ie=v("send/appt",async(t,r)=>{const{addedAppointment:i}=r.getState().appts;let c={headers:{"Content-Type":"application/json"},data:{appts:i}};try{return console.log("API URL :",A),(await E.post(`${A}api/v1/appts/create`,c)).data}catch(o){return o.message}}),L=M({name:"appts",initialState:ae,reducers:{commitChgHandler:(t,{payload:r})=>{t.rawData=r},currDateChgHandler:(t,{payload:r})=>{t.currentDate=r},currViewNameChgHandler:(t,{payload:r})=>{t.currentViewName=r},chgApptHandler:(t,{payload:r})=>{t.appointmentChanges=r},chgAddedApptHandler:(t,{payload:r})=>{t.addedAppointment=r},chgEditedApptHandler:(t,{payload:r})=>{t.editingAppointment=r}},extraReducers:t=>{t.addCase(x.pending,r=>{r.loading=!0}).addCase(x.fulfilled,(r,{payload:i})=>{r.loading=!1,r.register=i}).addCase(x.rejected,(r,{payload:i})=>{r.loading=!1,console.log(i)})}}),{commitChgHandler:se,currDateChgHandler:le,currViewNameChgHandler:ce,chgApptHandler:de,chgAddedApptHandler:me,chgEditedApptHandler:pe}=L.actions,ue=L.reducer,he=({...t})=>e(p.DateEditor,{...t,inputFormat:"MM/DD/YYYY HH:mm"}),ge=t=>t.type==="multilineTextEditor"?null:e(p.TextEditor,{...t}),fe=({onFieldChange:t,appointmentData:r,...i})=>{const[c,o]=N.useState({locationField:"",prepField:"",covidField:"",startDate:"",endDate:""}),n=m=>{o(g=>({...g,locationField:m})),t({locationField:m})},l=m=>{o(g=>({...g,prepField:m})),t({prepField:m})},h=m=>{o(g=>({...g,covidField:m})),t({covidField:m})};return d(p.BasicLayout,{appointmentData:r,onFieldChange:t,value:"",...i,children:[e(p.Label,{text:"Location",type:"title"}),e(p.TextEditor,{value:r.locationField,onValueChange:n,placeholder:"Doctors Office",type:"ordinaryTextEditor"}),e(p.Label,{className:"pt-5",text:"Prep Instructions",type:"title"}),e(p.TextEditor,{value:r.prepField,onValueChange:l,placeholder:"Prep Info",type:"multilineTextEditor"}),e(p.Label,{className:"pt-5",text:"Covid Vaccinated",type:"title"}),e(p.Select,{value:r.covidField,onValueChange:h,placeholder:"Yes or No",availableOptions:[{id:1,text:"No"},{id:2,text:"Yes"}],type:"filledSelect"})]})},be=()=>{const{rawData:t,currentDate:r,currentViewName:i,addedAppointment:c,appointmentChanges:o,editingAppointment:n}=B(s=>s.appts),l=D(),h=({added:s,changed:f,deleted:b})=>{let a=[...t];if(s){const u=(a==null?void 0:a.length)>0?a[(a==null?void 0:a.length)-1].id+1:0;a=[...a,{id:u,...s}]}return f&&(a=a==null?void 0:a.map(u=>f[u.id]?{...u,...f[u.id]}:u)),b!==void 0&&(a=a.filter(u=>u.id!==b)),l(se(a)),l(ie()),{dataCopy:a}},m=N.useCallback(s=>{const{id:f}=s;if(f!=="saveButton")return e(p.CommandButton,{...s});const b={position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"};let a="";const u=()=>I.error(`A ${a} is Require`,b),H=n?{...n,...o}:c,{title:y,locationField:S}=H,V=(()=>{if(!y||y.trim()=="")return a="Title",!1;if(!S||S.trim()=="")return a="Location",!1;if(y||S)return!0})()?s.onExecute:u;return e(p.CommandButton,{...s,onExecute:V})},[c,o,n]);return e(w,{children:d(P,{children:[d($,{locale:"en-US",data:t,height:400,className:"mt-10",children:[e(Y,{currentDate:r,onCurrentDateChange:s=>{l(le(s))},currentViewName:i,onCurrentViewNameChange:s=>{l(ce(s))}}),e(q,{onCommitChanges:h,addedAppointment:c,onAddedAppointmentChange:s=>{l(me(s))},appointmentChanges:o,onAppointmentChangesChange:s=>{l(de(s))},editingAppointment:n,onEditingAppointmentChange:s=>{l(pe(s))}}),e(U,{}),e(W,{startDayHour:9,endDayHour:19,name:"work-week",displayName:"Work Week"}),e(K,{name:"month-view",displayName:"Month View"}),e(Q,{startDayHour:10,endDayHour:19,name:"day-view",displayName:"Day View"}),e(_,{}),e(z,{}),e(J,{}),e(G,{}),e(X,{}),e(Z,{}),e(ee,{showOpenButton:!0,showDeleteButton:!0}),e(p,{basicLayoutComponent:fe,textEditorComponent:ge,dateEditorComponent:he,commandButtonComponent:m}),e(te,{})]}),e(R,{})]})})},xe=()=>{const t=D(),{register:r,handleSubmit:i,reset:c,formState:o,formState:{isSubmitSuccessful:n},formState:{errors:l}}=F(),h=m=>{console.log(m),t(x(m))};return console.log(l),N.useEffect(()=>{o.isSubmitSuccessful&&c()},[o,c]),d("section",{className:"mx-20",children:[e("h1",{className:"text-lg font-bold px-20 m-2",children:"Register Here now"}),d("form",{onSubmit:i(h),className:"",children:[e("input",{className:"input input-bordered w-full max-w-xs m-2 ",type:"text",placeholder:"User Name",...r("userName",{required:!0,maxLength:80})}),e("input",{className:"input input-bordered w-full max-w-xs m-2",type:"text",placeholder:"Email",...r("email",{required:!0,pattern:/^\S+@\S+$/i})}),e("input",{className:"input input-bordered w-full max-w-xs m-2",type:"password",placeholder:"Password",...r("password",{min:5})}),e("input",{className:"btn w-full max-w-xs m-2",type:"submit"})]})]})},we="/assets/med1-7971019b.png",Ne=()=>d(w,{children:[e("input",{type:"checkbox",id:"signup-modal",className:"modal-toggle"}),e("div",{className:"modal",children:d("div",{className:"modal-box relative flex flex-col items-center justify-center border-2 border-black",children:[e("img",{src:we,alt:"signup-logo",className:"w-[250px] h-[250px] border-2 border-black shadow-md rounded"}),e("label",{htmlFor:"signup-modal",className:"btn btn-sm btn-circle absolute right-2 top-2",children:"✕"}),e(xe,{})]})})]}),ye=()=>{const{register:t,handleSubmit:r,reset:i,formState:c,formState:{isSubmitSuccessful:o},formState:{errors:n}}=F(),l=h=>{console.log(h)};return console.log(n),N.useEffect(()=>{c.isSubmitSuccessful&&i()},[c,i]),e(w,{children:d("section",{className:"flex-col justify-center items-center",children:[e("h1",{className:"text-lg font-bold m-4 mx-28",children:"Login Here Now"}),d("form",{onSubmit:r(l),className:"",children:[e("input",{className:"input input-bordered w-full max-w-xs m-2",type:"text",placeholder:"Email",...t("email",{required:!0,pattern:/^\S+@\S+$/i})}),e("input",{className:"input input-bordered w-full max-w-xs m-2",type:"password",placeholder:"Password",...t("password",{min:5})}),e("input",{className:"btn w-full max-w-xs m-2",type:"submit"})]})]})})},Se="/assets/medimate2-027919b0.png",Ce=()=>d(w,{children:[e("input",{type:"checkbox",id:"login-modal",className:"modal-toggle"}),e("div",{className:"modal",children:d("div",{className:"modal-box relative flex flex-col items-center justify-center border-2 border-black",children:[e("img",{src:Se,alt:"medimate",className:""}),e("label",{htmlFor:"login-modal",className:"btn btn-sm btn-circle absolute right-2 top-2",children:"✕"}),e("div",{className:"mx-16",children:e(ye,{})})]})})]}),Ae=()=>d("section",{className:"flex h-screen justify-center items-center gap-2",children:[e("label",{htmlFor:"login-modal",className:"btn",children:"Login"}),e("label",{htmlFor:"signup-modal",className:"btn",children:"Sign up"}),e("button",{className:"btn",children:"Logout"}),e(Ne,{}),e(Ce,{})]});function De(){return e("main",{className:"h-screen flex justify-center items-center m-6",children:d("div",{children:[e("h1",{className:"text-center text-2xl",children:"Appt Tracker"}),d(re,{children:[e(C,{path:"/",element:e(Ae,{})}),e(C,{path:"/calendar",element:e(be,{})})]})]})})}const ve=j({reducer:{appts:ue},middleware:t=>t({serializableCheck:!1})});T.createRoot(document.getElementById("root")).render(e(k.StrictMode,{children:e(oe,{children:e(O,{store:ve,children:e(De,{})})})}));
